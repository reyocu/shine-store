<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shine Cookies - Premium –∞–∫–∫–∞—É–Ω—Ç—ã</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Auth Modal -->
    <div id="authModal" class="modal-visible">
        <div class="modal-content auth-modal">
            <div class="auth-container">
                <div class="auth-header">
                    <span class="logo-icon">üç™</span>
                    <h2>Shine Cookies</h2>
                    <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞–≥–∞–∑–∏–Ω!</p>
                </div>
                <!-- –í index.html –∏ register.html –¥–æ–±–∞–≤—å—Ç–µ: -->
<script src="auth.js"></script>
<!-- –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –±–ª–æ–∫–∞: -->
<div class="auth-tabs">
    <button class="tab-btn active" onclick="switchTab('login')">–í—Ö–æ–¥</button>
    <button class="tab-btn" onclick="switchTab('register')">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
</div>

<!-- Login Form -->
<form id="loginForm" class="auth-form active">
    <!-- ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è —Ñ–æ—Ä–º–∞ –≤—Ö–æ–¥–∞ ... -->
    
    <div class="auth-links">
        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="register.html" class="auth-link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∑–¥–µ—Å—å</a></p>
    </div>
</form>

                <!-- Register Form -->
                <form id="registerForm" class="auth-form">
                    <div class="form-group">
                        <input type="text" id="registerName" placeholder="–ò–º—è" required class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="email" id="registerEmail" placeholder="Email" required class="form-input">
                    </div>
                    <div class="form-group">
                        <input type="password" id="registerPassword" placeholder="–ü–∞—Ä–æ–ª—å" minlength="6" required class="form-input">
                    </div>
                    <button type="submit" class="auth-btn">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="mainApp" class="hidden">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="nav">
                    <div class="logo">
                        <span class="logo-icon">üç™</span>
                        <h1>Shine Cookies</h1>
                    </div>
                    <div class="user-info">
                        <div class="user-balance">
                            <span class="balance-label">–ë–∞–ª–∞–Ω—Å:</span>
                            <span class="balance-amount" id="userBalance">0 —Ä—É–±.</span>
                            <button class="top-up-btn" onclick="showTopUpModal()">üí≥ –ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>
                        </div>
                        <div class="user-menu">
                            <span id="userName" class="user-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                            <button class="logout-btn" onclick="logout()">üö™ –í—ã–π—Ç–∏</button>
                        </div>
                    </div>
                    <div class="cart-section">
                        <div class="cart" onclick="showCart()">
                            <span class="cart-icon">üõí</span>
                            <div class="cart-info">
                                <div class="cart-text" id="cartText">CART IS EMPTY</div>
                                <div class="cart-subtext">Add some delicious cookies!</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="container">
                <!-- Products Grid -->
                <section class="products-section">
                    <h2 class="section-title">üéÆ –í—Å–µ —Ç–æ–≤–∞—Ä—ã</h2>
                    <div class="products-grid" id="productsGrid">
                        <!-- Products will be loaded from JavaScript -->
                    </div>
                </section>

                <!-- Sidebar -->
                <aside class="sidebar">
                    <div class="price-info">
                        <h3>SHINE COOKIES</h3>
                        <div class="prices">
                            <span class="current-price">65 —Ä—É–±.</span>
                            <span class="old-price">10 —Ä—É–±.</span>
                            <span class="old-price">12 —Ä—É–±.</span>
                            <span class="old-price">700 —Ä—É–±.</span>
                            <span class="old-price">230 —Ä—É–±.</span>
                        </div>
                    </div>

                    <div class="payment-info">
                        <h4>üí≥ –û–ø–ª–∞—Ç–∞</h4>
                        <p>–ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ Platega</p>
                        <div class="payment-methods-list">
                            <div class="payment-method">üí≥ –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ –∫–∞—Ä—Ç—ã</div>
                            <div class="payment-method">ü§ñ Crypto Bot</div>
                            <div class="payment-method">üì± QIWI</div>
                            <div class="payment-method">ü™ô –ÆMoney</div>
                        </div>
                    </div>

                    <div class="stats">
                        <h4>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h4>
                        <div class="stat-item">
                            <span>–¢–æ–≤–∞—Ä–æ–≤:</span>
                            <span id="productsCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span>–ü–æ–∫—É–ø–æ–∫:</span>
                            <span id="purchasesCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span>–ù–∞ —Å—á–µ—Ç—É:</span>
                            <span id="balanceAmount">0 —Ä—É–±.</span>
                        </div>
                    </div>
                </aside>
            </div>
        </main>

        <!-- Top Up Balance Modal -->
        <div id="topUpModal" class="modal-hidden">
            <div class="modal-content">
                <h3>üí≥ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞</h3>
                <div class="modal-form">
                    <div class="amount-selector">
                        <label>–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è (—Ä—É–±.):</label>
                        <input type="number" id="topUpAmount" value="100" min="10" max="50000" class="modal-input">
                    </div>
                    <div class="payment-methods">
                        <h4>–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã:</h4>
                        <button onclick="processPlategaPayment()" class="payment-btn platega-pay">
                            üí≥ Platega (–∫–∞—Ä—Ç—ã)
                        </button>
                        <button onclick="processCryptoPayment()" class="payment-btn crypto-pay">
                            ü§ñ Crypto Bot
                        </button>
                        <button onclick="processOtherPayment()" class="payment-btn other-pay">
                            üì± –î—Ä—É–≥–∏–µ –º–µ—Ç–æ–¥—ã
                        </button>
                    </div>
                    <div class="modal-buttons">
                        <button onclick="closeTopUpModal()" class="modal-cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Platega Payment Modal -->
        <div id="plategaModal" class="modal-hidden">
            <div class="modal-content platega-modal">
                <h3>üí≥ –û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ Platega</h3>
                <div class="payment-form">
                    <div class="form-group">
                        <label>–ù–æ–º–µ—Ä –∫–∞—Ä—Ç—ã:</label>
                        <input type="text" id="cardNumber" placeholder="0000 0000 0000 0000" class="form-input" maxlength="19">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:</label>
                            <input type="text" id="cardExpiry" placeholder="–ú–ú/–ì–ì" class="form-input" maxlength="5">
                        </div>
                        <div class="form-group">
                            <label>CVV:</label>
                            <input type="text" id="cardCvv" placeholder="000" class="form-input" maxlength="3">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ:</label>
                        <div class="amount-display" id="plategaAmount">100 —Ä—É–±.</div>
                    </div>
                    <div class="payment-buttons">
                        <button onclick="processCardPayment()" class="pay-now-btn">üí≥ –û–ø–ª–∞—Ç–∏—Ç—å —Å–µ–π—á–∞—Å</button>
                        <button onclick="closePlategaModal()" class="modal-cancel-btn">‚ùå –û—Ç–º–µ–Ω–∞</button>
                    </div>
                    <div class="security-notice">
                        üîí –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ —á–µ—Ä–µ–∑ Platega. –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Background Elements -->
    <div class="bg-elements">
        <div class="bg-circle circle-1"></div>
        <div class="bg-circle circle-2"></div>
        <div class="bg-circle circle-3"></div>
    </div>

<script src="script.js"></script>
<script>
    // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    document.addEventListener('DOMContentLoaded', function() {
        console.log('–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
        initializeData();
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        if (currentUser) {
            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω:', currentUser);
            showMainApp();
        } else {
            console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω');
            showAuthModal();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞');
            
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;

            console.log('–î–∞–Ω–Ω—ã–µ –≤—Ö–æ–¥–∞:', { email, password });

            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                console.log('–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–æ—à–µ–ª:', user);
                showNotification('‚úÖ –í—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!');
                showMainApp();
                
                // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
                this.reset();
            } else {
                console.log('–ù–µ–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞');
                showNotification('‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å');
            }
        });

        // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(45deg, #00ccff, #00ffaa);
                color: #000;
                padding: 15px 25px;
                border-radius: 10px;
                font-weight: bold;
                z-index: 1000;
                animation: slideInRight 0.3s ease;
                border: 1px solid #00ccff;
                box-shadow: 0 5px 15px rgba(0, 204, 255, 0.3);
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }
    });
</script>